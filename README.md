# GDDecoder

Библиотека для простого расшифрования, редактирования и сохранения файлов сохранений игры Geometry Dash.

## Пример
Для начала нужно подключить библиотеку и создать объект класса GDLevels. Как аргумент в него передаётся путь к файлу сохранения, пример ```Filepath="CCLocalLevels.dat"```. Если его не передать, будет использоваться стандартный путь к файлам сохранений Geometry Dash ```C:\Users\{user}\AppData\Local\GeometryDash\CCLocalLevels.dat```
```python
from GDDecoder import GDLevels


levels = GDLevels()
```

Чтобы начать процесс раскодирования, нуждно использовать метод **load()**. Так же можно сразу произвести раскодирование при создании объекта.
```python
levels = GDLevels().load()
```
**load()** вернёт объект

Чтобы сохранить изменённый файл и закодировать, нужно использовать метод **save()**
```python
levels.save()
```
Файл, выбранный при открытии, перезапишется. Чтобы создать новый файл или перезаписать другой, нужно изменить путь сохранения через level.savepath = "новый путь".
```python
levels.savepath = "other/CCLocalLevels.dat"

levels.save()
```

## Переменные

### ***level.plist***
Хранит расшифрованный файл сохранения в виде xml кода. В нём не будет табуляций и переносов строк. Чтобы их добавить можно использовать функцию strtoplist из файла convertors.py
```python
from converters import strtoplist


plist = strtoplist(levels.plist)

with open("gamedata.plist", "w") as f:
    f.write(plist)
```
Подобный код можно будет открыть в plist редакторе и визуально ознокомиться с ним.
![image](https://user-images.githubusercontent.com/58140098/114268168-f635f500-9a29-11eb-9794-669b8985c703.png)

### ***level.filedict***
Хранит словарь, особым образом созданный из xml кода сохранений. Не сохраняется и не загружается при создании **загрузачной точки**. Переходная ячейка хранения данных.

### ***levels.levels***
Хранит словарь из всех уровней и является копией ```levels.filedict["LLM_01"]```.

### ***levels.rude***
Хранит (на всякий случай) разные значения не оказывающее влияние на файл сохранений. Используется в сборке файла сохранения

### ***levels.savepath***
Харнит путь, куда будет сохраняться файл после вызова метода ```level.save```. Если его не менять, путь будет такой же как и у открытого файла.

## Загрузочная точка
На расшифровку и конвертацию файла тратится много времени. Чтобы долго не ждать, при многократном использовании программы, можно создать точку, где будет сохранена вся нужная информация в незакодированном виде. Загрузка такого файла в разы быстрее исходного.<br>
Для создания, нужно сипользовать ```level.createloadpoint()```, как аргумент можно передать путь к файлу загрузочной точки, по умолчанию "point.json". Можно сделать точку сразу при создании объекта ```levels = GDLevels().createloadpoint()```. В файл сохранится список
```python
[self.FILEPATH, self.savepath, self.plist, self.levels, self.rude, self.convertkey]
``` 
Для загрузки можно использовать ```levels.fastload()``` или ```levels = GDLevels().fastload()```.
